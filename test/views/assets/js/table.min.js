$(document).ready(function () {
  // Initialize DataTable on page load
  var table1, table2;

  function initializeDataTable1() {
      table1 = $('#myTable').DataTable({
          lengthMenu: [
              [10, 20, -1],
              [10, 20, 'All']
          ],
          pageLength: 6,
          autoWidth: true,
          ordering: true,
          searching: true,
          lengthChange: true,
          info: true,
          dom: 'Bfrtip',
          buttons: [
              {
                  extend: 'copy',
                  text: '<i class="fas fa-copy"></i>',
                  className: '<clasbtn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4, 5, 6]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'COPY')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'csv',
                  text: '<i class="fas fa-file-csv"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4, 5, 6]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'CSV')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'excel',
                  text: '<i class="fas fa-file-excel"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4, 5, 6]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'EXCEL')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'pdf',
                  text: '<i class="fas fa-file-pdf"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4, 5, 6]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'PDF')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'print',
                  text: '<i class="fas fa-print"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4, 5, 6]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'Print')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              }
          ],
          language: {
              buttons: {
                  copyTitle: 'Copy to clipboard',
                  copySuccess: {
                      1: 'Copied 1 row to clipboard',
                      _: 'Copied %d rows to clipboard'
                  }
              }
          }
      });
  }

  function initializeDataTable2() {
      table2 = $('#myTable1').DataTable({
          lengthMenu: [
              [10, 20, -1],
              [10, 20, 'All']
          ],
          pageLength: 6,
          autoWidth: false,
          ordering: true,
          searching: true,
          lengthChange: true,
          info: true,
          dom: 'Bfrtip',
          buttons: [
              {
                  extend: 'copy',
                  text: '<i class="fas fa-copy"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'COPY')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'csv',
                  text: '<i class="fas fa-file-csv"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'CSV')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'excel',
                  text: '<i class="fas fa-file-excel"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'EXCEL')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'pdf',
                  text: '<i class="fas fa-file-pdf"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'PDF')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              },
              {
                  extend: 'print',
                  text: '<i class="fas fa-print"></i>',
                  className: 'btn btn-primary',
                  exportOptions: {
                      columns: [0, 1, 2, 3, 4]
                  },
                  init: function (dt, node, config) {
                      $(node).attr('title', 'Print')
                      $(node).tooltip({
                          container: 'body'
                      })
                  }
              }
          ],
          language: {
              buttons: {
                  copyTitle: 'Copy to clipboard',
                  copySuccess: {
                      1: 'Copied 1 row to clipboard',
                      _: 'Copied %d rows to clipboard'
                  }
              }
          }
      });
  }

  // Initialize DataTables on page load
  initializeDataTable1();
  initializeDataTable2();

  // Handle tab change event
  $('a[data-bs-toggle="pill"]').on('shown.bs.tab', function (e) {
      // Destroy the DataTable instances on the inactive tabs
      if (table1) {
          table1.destroy();
      }
      if (table2) {
          table2.destroy();
      }

      // Re-initialize DataTables on the active tabs
      if (e.target.hash === '#pills-home') {
          initializeDataTable1();
      } else if (e.target.hash === '#pills-contact') {
          initializeDataTable2();
      }
  });
});